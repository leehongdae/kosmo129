<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@page import="a.b.c.com.kos.mem.vo.KosMemberVO"%>  
<%@page import="java.util.List"%> 

<%@ page import="org.apache.log4j.LogManager" %>
<%@ page import="org.apache.log4j.Logger" %>
    
<% request.setCharacterEncoding("UTF-8"); %>
<%
   Logger logger = LogManager.getLogger(this.getClass());
   logger.info("kosmoMainPage.jsp 진입 >>> : ");      
%> 
    
<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>MAIN PAGE</title>
      <script type="text/javascript" src="/kosSpring/js/common.js"></script>
      <script src="http://code.jquery.com/jquery-latest.min.js"></script>
      <link rel="stylesheet" href="/kosSpring/include/css/mainstyle.css">
      <link rel="stylesheet" href="/kosSpring/css/main.css">
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script type="text/javascript">
      
          $(document).ready(function(){
             
            $(function(){
               // 현재 시간 
               function printTime(){
                  let days = ["일", "월", "화", "수", "목", "금", "토"];
                  let md = new Date();
                  
                  let yy = md.getFullYear();
                  let mm = md.getMonth() + 1;
                  let dd = md.getDate();
                  let ii = md.getDay();
                  let di = days[ii];
                  let hh = md.getHours();
                  let mi = md.getMinutes();
                  let ss = md.getSeconds();
                  
                  let time =    yy + "년" +
                           numpad(mm) + "월" +
                           numpad(dd) + "일" +
                           di + "요일" +
                           numpad(hh) + ":" +
                           numpad(mi) + ":" +
                           numpad(ss);
                  document.getElementById("timer").innerHTML=time;
               }
               setInterval(printTime, 1000);
               
               
               
               // 수료일   
               function getDay(y, m, d) {
                  let today = new Date();
                  let dday = new Date(y, m-1, d);
                  let cnt = dday.getTime() - today.getTime();
                  let n = Math.ceil(cnt / (24 * 60 * 60 * 1000));
                  return n;
               }         
               let dday = getDay(2023, 8, 8);         
               console.log("dday >>> : " + dday);
               document.getElementById("dday").innerHTML=dday;
            });
         
            // 상품 이벤트 
            $(document).on('click', '#img_1', function(){
               alert("#상품아이디가지고 상품검색하기");         
            });
         });

          
      function openFixedWindowSize(url, width, height) {
             
         var screenWidth = window.screen.width;
         var screenHeight = window.screen.height;

         var left = Math.ceil((screenWidth - width) / 2);

         var top = Math.ceil((screenHeight - height) / 2); 

         var windowFeatures = 'width=' + width + ',height=' + height + ',left=' + left + ',top=' + top + ',resizable=no';
         window.open(url, '_blank', windowFeatures);
      }
          
      </script>
      <style type="text/css">
         
         .m {
            text-align: center;
         }
         
         table{
            margin : auto;
            border-collapse: separate;
            border-spacing: 20px 40px;
         }
         
         img {
            width:200px;
            height:250px;
         }
         
         a {
              text-decoration-line: none;
            /*   text-decoration-line: underline; */
            /*   text-decoration-line: overline; */
            /*   text-decoration-line: line-through; */
            /*   text-decoration-line: underline line-through overline; */
         }      
         
         <!--
            슬라이드 메뉴 
         -->
         #header { width: 100%; height: 52px; background: #447e65; position: relative; overflow: hidden; }
         #mask { width: 100%; height: 100%; position: fixed; top: 0; left: 0; background: #000; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"; filter: alpha(opacity=50); zoom: 1; opacity: 0.5; z-index: 9998; display: none; }
         .logo { font-size: 25px; color: #fff; position: absolute; top: 5px; left: 15px; }
         .btn_menu_open { background: none; border: 0; font-size: 15px; color: #fff; position: absolute; top: 15px; right: 15px; cursor: pointer; }
         .slide_menu { width: 80%; height: 100%; max-width: 360px; background: #fff; position: fixed; top: 0; right: 0; overflow-y: scroll; z-index: 9999; display: none; }
         .slide_menu .menu_close { width: 100%; height: 52px; background: #447e65; position: relative; }
         .slide_menu .btn_menu_close { background: none; border: 0; font-size: 15px; color: #fff; position: absolute; top: 15px; right: 15px; cursor: pointer; }
         .slide_menu .menu_list li { padding: 15px; border-bottom:1px solid #ccc; list-style: none; }
         .slide_menu .menu_list li a { font-size: 15px; color: #333; }
      </style>
   </head>
   <body>
      <!-- 상단바와 내용 -->
      <div id="sitearea">
         <!-- 상단바  -->
         <header id="topbar">
            <div class="wrapper">
               <!-- 상단바 로고영역(로고, 검색) -->
               <div id="logoarea">
                  <!-- 로고 -->
                  <div id="toplogo">
                     <a href="/kosSpring/mainpage.jsp">
                        <!-- 로고이미지 위치 확정되면 변경 -->
                        <img src="/kosSpring/img/img_music/guitar-bg.jpg" id="sitelogo" >
                     </a>
                  </div>
                  <!-- 검색바 -->
                  <div id="searchbar">
                     <form>
                        <!-- 드롭다운 -->
                        <select>
                           <option>검색_1</option>
                           <option>검색_2</option>
                           <option>검색_3</option>
                        </select>
                        <!-- 텍스트필드 -->
                        <div id="searchtext">
                           <input type="text">
                        </div>
                        <!-- 검색버튼 -->
                        <input type="submit" value="검색" id="searchbtn">
                     </form>
                  </div>
               </div>
               <div id="btnarea">
                  <%
                     String mid = "";
                     Object obj = request.getAttribute("listLogin");
                     
                     if (obj !=null) {
                        List<KosMemberVO> list = (List<KosMemberVO>)obj;
                        int nCnt = list.size();         
                        if (nCnt == 1) {
                           mid = list.get(0).getMid();   
                        }   
                  %>
                        <p align="right">
                           <%= mid %> 님 로그인 중 <a href="logout.ses" class="sitebtn">로그아웃</a>
                           <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()" class="sitebtn">마이페이지</a>
                           <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()" class="sitebtn">글쓰기</a>
                        </p>
                  <%
                     }else{
                  %>
                        <p align="right">
                           <a href="loginForm.ses" class="sitebtn">로그인</a>
                           <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()" class="sitebtn">회원가입</a>
                        </p>   
                  <%
                     }      
                  %>
                  <h3 class="m">MAIN   PAGE :
                     <span style="color:red">음악뮤지엄 할인 이벤트 D-</span><span id="dday" style="color:red">
                     </span> : <span id="timer"></span>
                  </h3>
               </div>
            </div>
            <!-- 메뉴 -->
            <div id="naviarea">
               <ul class="wrapper">
                  <!--  메인버튼들-->
                  <li>
                     <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()">
                        <div class="nav_btn">
                           사용기
                        </div>
                     </a>
                  </li>
                  <li>
                     <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()">
                        <div class="nav_btn">
                           강좌
                        </div>
                     </a>
                  </li>
                  <li>
                     <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()">
                        <div class="nav_btn">
                           쇼핑몰
                        </div>
                     </a>
                  </li>
                  <li>
                     <a href="javascript:alert('준비중입니다.');" onfocus="this.blur()">
                        <div class="nav_btn">
                           뮤지원회원들 연주영상
                        </div>
                     </a>
                  </li>
               </ul>
            </div>
         </header>
         <div id="contents">
            <h1 align="left">음악 뮤지엄</h1>
         </div>
         <!-- 내용 -->
         <div id="sitecontent">
            <div class="wrapper">
               <div>
                  <%@ include file="01_barChart.html" %>      
               </div>
            </div>
         </div>
      </div>
      
      <!-- 하단바 -->
      <footer id="footerarea">
         <div align="center">
            <jsp:include page="../weather/weather.jsp"></jsp:include>  
         </div>
         <div align="center">
            (주)GOATS.SOLUSION | Tel. 02-570-2222 | Fax. 02-570-2222 | 사업자번호: 000-0000-00000
            <br>
            <a href="#" onclick="openFixedWindowSize('kakaomap.ses', 700, 400)"> 서울특별시 금천구 가산디지털2로 123 2차) 4층 413호 월드메르디앙</a>
         </div>
      </footer>
   </body>
</html>